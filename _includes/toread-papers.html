<section class="toread-papers">
  <h2 class="section-title">ğŸ“š FG's #toread</h2>
  
  {% assign toread_data = site.data.toread %}
  {% if toread_data and toread_data.papers %}
    <div class="papers-carousel-container">
      <button class="carousel-arrow carousel-arrow-left" onclick="scrollCarousel('left')" aria-label="Previous papers">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      
      <div class="papers-carousel" id="papersCarousel">
        {% assign recent_papers = toread_data.papers | sort: 'dateAdded' | reverse %}
        {% for paper in recent_papers %}
          <article class="paper-card">
            <div class="paper-header">
              <h3 class="paper-title">
                {% if paper.doi %}
                  <a href="https://doi.org/{{ paper.doi }}" target="_blank" rel="noopener">{{ paper.title }}</a>
                {% elsif paper.url %}
                  <a href="{{ paper.url }}" target="_blank" rel="noopener">{{ paper.title }}</a>
                {% else %}
                  {{ paper.title }}
                {% endif %}
              </h3>
            </div>
            
            <div class="paper-meta">
              <div class="paper-authors">
                {% for author in paper.authors %}
                  <span class="author">{{ author }}</span>{% unless forloop.last %}, {% endunless %}
                {% endfor %}
              </div>
              <div class="paper-venue">{{ paper.venue }} ({{ paper.year }})</div>
            </div>
            
            {% if paper.abstract %}
              <div class="paper-abstract">
                {{ paper.abstract | truncate: 150 }}
              </div>
            {% endif %}
            
            {% if paper.tags and paper.tags.size > 0 %}
              <div class="paper-tags">
                {% for tag in paper.tags %}
                  <span class="tag">{{ tag }}</span>
                {% endfor %}
              </div>
            {% endif %}
            
            <div class="paper-footer">
              <span class="date-added">Added {{ paper.dateAdded | date: "%b %d, %Y" }}</span>
              {% if paper.doi %}
                <span class="doi-text">DOI: {{ paper.doi }}</span>
              {% elsif paper.url %}
                <a href="{{ paper.url }}" class="url-link" target="_blank" rel="noopener">
                  View Paper
                </a>
              {% endif %}
            </div>
          </article>
        {% endfor %}
      </div>
      
      <button class="carousel-arrow carousel-arrow-right" onclick="scrollCarousel('right')" aria-label="Next papers">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      
      <div class="carousel-indicators" id="carouselIndicators">
        <!-- Indicators will be generated by JavaScript -->
      </div>
    </div>
    
  {% else %}
    <div class="empty-state">
      <div class="empty-icon">ğŸ“š</div>
      <p>No papers in reading list yet.</p>
    </div>
  {% endif %}
</section>